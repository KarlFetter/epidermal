name: Stomata Counter
author: Karl Fetter, Sven Eberhardt
public: True
clone: False
doi: 10.1111/nph.15892
image: docker://wbonelli/epidermal
commands: python /opt/epidermal/process_images.py --weights-filename /opt/epidermal/model/sc_feb2019.caffemodel --proto-filename /opt/epidermal/model/sc_feb2019.prototxt --csv-output-filename $(dirname $(dirname $INPUT))/output.csv --heatmap-output-path $(dirname $(dirname $INPUT)) --scale $SCALE --prob-area-threshold $THRESHOLD $INPUT
logo: stomata.png
params:
  - name: scale
    type: number
    min: 1
    max: 4
    step: 1
    default: 1
  - name: threshold
    type: number
    min: 0
    max: 1
    step: 0.001
    default: 0.982
input:
  path:
  kind: files
  filetypes:
    - jpg
    - png
output:
  path:
  include:
    patterns:
      - csv
      - jpg
resources:
  time: "00:10:00"
  mem: "5GB"
  processes: 1
  cores: 1
